# プロダクト概要

このドキュメントは `2026-02-05` に作成されました(`no-commit`)。

## プロダクトの目的

GitHub issue の依存関係（blocking/blocked by）を **DAG（有向非巡回グラフ）** として可視化・編集するツール。

GitHub の issue dependencies 機能は、あるissueが他のissueにブロックされている関係を管理できるが、その関係性を俯瞰的に把握することが難しい。本ツールは依存関係をグラフとして表示し、ボトルネックの特定やプロジェクト進捗の把握を容易にする。

```
┌─────────┐     ┌─────────┐
│ #10 認証 │────▶│ #11 API │
└─────────┘     └────┬────┘
                     │
┌─────────┐          ▼
│ #12 DB  │────▶┌─────────┐     ┌─────────┐
└─────────┘     │ #13 結合 │────▶│ #14 完了 │
                └─────────┘     └─────────┘
```

## ターゲットユーザー

- **開発者**: 自分が担当するissueの依存関係を把握し、作業の優先順位を決定したい
- **プロジェクトマネージャー/テックリード**: プロジェクト全体の依存関係を俯瞰し、ボトルネックを特定したい
- **チーム**: 複雑な機能開発において、タスク間の関係性を共有したい

## プロダクトの原則

1. **GitHub ネイティブ**: 外部DBを使わず、GitHub の issue dependencies API をそのまま活用する
2. **シンプルな操作**: グラフ上でのドラッグ&ドロップで依存関係を直感的に編集できる
3. **gh CLI エコシステムとの統合**: `gh extension` として配布し、既存のワークフローに自然に組み込める

## 主な機能

1. **依存関係のグラフ表示**: GitHub ProjectV2 内の issue 間の依存関係を DAG として可視化
   - **Sub-issue 関係**（親子関係）: 実線グレーのエッジで表示
   - **Blocked-by 関係**（ブロック関係）: 破線赤のエッジで表示
   - issue のステータス（open/closed）をノードの色で表現（open=緑、closed=紫）
2. **インタラクティブな編集**: ノード間にエッジをドラッグして依存関係を追加、クリックで削除。依存関係タイプ（sub-issue / blocked-by）の切り替えが可能
3. **ローカルWebコンソール**: `gh issue-treefier console` でブラウザベースの UI を起動。プロジェクト選択プロンプト付き
4. **フィルタリング**: owner、ステータス（open/closed/all）、プロジェクトのフィールド値（テキスト、数値、日付、単一選択、イテレーション）で issue を絞り込み表示
5. **Issue 詳細パネル**: ノードクリックでサイドパネルに担当者、ラベル、本文などの詳細情報を表示。パネルから sub-issue や blocked-by 関係の追加も可能
6. **クロスリポジトリ対応**: 複合 ID（`owner/repo#number`）により異なるリポジトリ間の依存関係も表示

## 成功指標

- **自分が使える**: 自分のプロジェクトで実際に依存関係の把握に役立つ
- **ユーザビリティ**: 依存関係の追加/削除が3クリック以内で完了できる
- **パフォーマンス**: 100件のissueを持つリポジトリでも2秒以内にグラフを描画

## 将来の展望

### 可能な拡張機能

- **クリティカルパス表示**: 最も長い依存チェーンをハイライト
- **エクスポート機能**: グラフを Mermaid 形式や SVG で出力
- **CI/CD 連携**: PR 作成時に依存する issue がすべてクローズされているかチェック
